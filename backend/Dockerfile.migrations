# Migrations Dockerfile
FROM golang:1.24-alpine

# Install goose
RUN go install github.com/pressly/goose/v3/cmd/goose@latest

WORKDIR /migrations

# Copy migration files
COPY migrations/*.sql ./

# Run migrations using env variables GOOSE_DRIVER and GOOSE_DBSTRING
CMD ["sh", "-c", "goose up"]
